"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const u=require("./decimalLength.cjs"),m=require("./toNumber.cjs"),M=require("./spliceString.cjs"),y=require("./isString.cjs");require("./isNumber.cjs");const p=(e,t)=>{if(t===0)return e;const r=u.decimalLength(+e);let n=e.toString();return r===0?n+="".padEnd(t,"0"):(n=n.replace(".",""),n+="".padEnd(t-r,"0")),Number.parseFloat(n)},a=(e,t)=>{if(t===0)return e;let r=e.toString();const n=r.length;return t-n+1>0&&(r="".padEnd(t>n?t-n+1:t-n,"0")+r),r=M.spliceString(r,Math.abs(n-t),"."),Number.parseFloat(r)},c=(e,t)=>{const r=Math.max(u.decimalLength(+e),u.decimalLength(+t));return{n1:p(m.toNumber(e),r),n2:p(m.toNumber(t),r),raise:r}},d=(e,t)=>{const{n1:r,n2:n,raise:i}=c(e,t);return a(r+n,i)},v=(...e)=>e.reduce((t,r)=>d(t,r)),g=(e,t)=>{const{n1:r,n2:n,raise:i}=c(e,t);return a(r-n,i)},q=(...e)=>e.reduce((t,r)=>g(t,r)),s=(e,t)=>{const{n1:r,n2:n,raise:i}=c(e,t);return a(r*n,i*2)},N=(...e)=>e.reduce((t,r)=>s(t,r),1),o=(e,t)=>{const{n1:r,n2:n}=c(e,t);return r/n},L=(...e)=>e.reduce((t,r)=>o(t,r)),f=(e,t)=>{const r=o(e,t),n=s(r-Math.floor(r),t),i=+e%+t;return n.toString().length<=i.toString().length?n:i},h={"+":d,"-":g,"*":s,"/":o,"%":f},b=/\([^()]+\)/g,k=/[()]/g,A=/(?<=\d|\.)([%*/+-])/g,E=/\s+/g,l=e=>{e=e.replace(A," $1 "),e=e.trim();let t=e.split(E);if(t.length<=0)return 0;let r=-1,n;do{if(r=t.findIndex(i=>["*","/","%"].includes(i)),r<0)break;n=h[t[r]](t[r-1],t[r+1]),t.splice(r-1,3,`${n}`)}while(!0);n=+t[0];for(let i=1;i<t.length;i++)t[i]==="+"||t[i]==="-"||(n=h[t[i-1]||"+"](n,t[i]));return n},S=e=>{if(!y.isString(e))return 0;try{for(;b.test(e);)e=e.replace(b,t=>l(t.replace(k,""))+"");return l(e)}catch{return 0}};exports.add=d;exports.arithmetic=l;exports.default=S;exports.divide=o;exports.exactMath=S;exports.multiAdd=v;exports.multiDivide=L;exports.multiMultiply=N;exports.multiSubtract=q;exports.multiply=s;exports.remain=f;exports.subtract=g;
