"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const d=require("./globalThis.cjs"),f=require("./isPromise.cjs"),p=require("./normalizeOptions.cjs"),T={timeout:300,immediate:!0,rtnVal:null,abort:-1},E={number:"timeout",boolean:"immediate"},n=(s,a)=>{const{timeout:c,immediate:u,rtnVal:i,abort:m}=p.normalizeOptions(a,E,T);return(...v)=>{const{resolve:o,promise:b}=Promise.withResolvers();let t=m,r=0;const l=async()=>{if(t>=0)if(t>0)t--;else{clearInterval(r),o(i);return}let e=s(...v);if(f.isPromise(e))try{e=await e}catch{e=i}e&&(clearInterval(r),o(e))};return r=d.globalThis.setInterval(l,c),u&&l(),b}};exports.default=n;exports.intervalExec=n;
