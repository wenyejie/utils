"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("./isFunction.cjs"),l=require("./arrDelItemByProp.cjs");require("./toRawType.cjs");require("./toTypeString.cjs");require("./objectToString.cjs");require("./decapitalize.cjs");require("./isObject.cjs");class c{callbackMap={};static create(){return new c}trigger(e,i){if(!e)return;const r=this.callbackMap[e]??{queue:[]},{queue:t}=r;if(r.data=i,t.length===0){this.callbackMap[e]=r;return}t.forEach(({callback:u})=>u(i)),r.queue=t.filter(({once:u})=>!u),this.callbackMap[e]=r}on(e,i,r){if(!e||!s.isFunction(i()))return;const t=this.callbackMap[e]??{queue:[]},{data:u,queue:a}=t;r?.immediate&&i(u),a.push({once:r?.once??!1,callback:i}),this.callbackMap[e]=t}off(e,i){if(!e)return;const r=this.callbackMap[e];if(!r)return;const{queue:t}=r;s.isFunction(i)?l.arrDelItemByProp(t,{callback:i}):delete this.callbackMap[e]}}exports.PublishSubscribe=c;exports.default=c;
