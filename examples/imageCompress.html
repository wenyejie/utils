<!DOCTYPE html>
<html lang='zh-cn'>
<head>
  <meta charset='utf-8'>
  <title>Image Compress</title>
</head>
<body>
<fieldset>
  <legend>Upload Image</legend>
  <input type='file' />
</fieldset>
<script type='module'>
  import imageCompress from '@/imageCompress'
  const elFile = document.querySelector('input')

  elFile.addEventListener('change', event => {
    const file = event.target?.files?.[0]
    console.log(file)
    imageCompress(file, {
      filetype: 'image/jpeg',
      quality: 1
    }).then(result => {
      console.log(result)
    })
  })
</script>
</body>
</html>
